---
icon: helicopter
---

# Apache

{% hint style="info" %}
<mark style="color:purple;">It uses a process-based model, where each request is handled by a separate thread or process, which can be resource-heavy under high traffic but provides great compatibility.</mark>
{% endhint %}

<details>

<summary><mark style="color:purple;"><strong><code>Configuration Files</code></strong></mark> </summary>

{% code title="Standard" %}
```
/etc/apache2/apache2.conf
```
{% endcode %}

{% code title="RHEL" %}
```
/etc/httpd/httpd.conf
```
{% endcode %}

{% code title="FreeBSD" %}
```
/etc/apache24/httpd.conf
```
{% endcode %}

</details>

<details>

<summary><mark style="color:purple;"><strong><code>Initial Recon</code></strong></mark></summary>

* <mark style="color:orange;">**`robots.txt`**</mark> <mark style="color:purple;">can reveal pages that the server is hiding.</mark>
* <mark style="color:purple;">Fuzz for</mark> <mark style="color:orange;">**`vhosts`**</mark> <mark style="color:purple;">at sight of</mark> <mark style="color:orange;">**`301`**</mark> <mark style="color:purple;">responses.</mark>

{% code title="Ffuf" overflow="wrap" %}
```bash
ffuf -c -w ~/Documents/Wordlists/subdomains-top1million-20000.txt -u http://10.10.11.44/ -H "Host: FUZZ.alert.htb" -mc all -ac
```
{% endcode %}

</details>

<details>

<summary><mark style="color:orange;"><strong><code>vhosts</code></strong></mark></summary>

{% code title="Configuration file" overflow="wrap" %}
```
/etc/apache2/sites-enabled/000-default.conf
```
{% endcode %}

* Check for sites&#x20;

</details>



{% hint style="info" %}
###



*

#### <mark style="color:red;">**`Virtual Host Configurations`**</mark>&#x20;

* <mark style="color:purple;">Default virtual host configuration:</mark>&#x20;
* <mark style="color:purple;">Sites are configured in</mark> <mark style="color:orange;">**`/etc/apache2/sites-available/`**</mark> <mark style="color:purple;">and activated using symlinks in</mark> <mark style="color:orange;">**`/etc/apache2/sites-enabled/`**</mark><mark style="color:purple;">.</mark>

#### <mark style="color:red;">**`Modules Configuration`**</mark>

* <mark style="color:orange;">**`/etc/apache2/mods-available/`**</mark><mark style="color:purple;">: Contains configuration files for all available modules.</mark>
  * <mark style="color:orange;">**`.load`**</mark><mark style="color:purple;">: For loading the module.</mark>
  * <mark style="color:orange;">**`.conf`**</mark><mark style="color:purple;">: For additional configuration.</mark>
* <mark style="color:orange;">**`/etc/apache2/mods-enabled/`**</mark><mark style="color:purple;">: Contains symlinks to the enabled modules.</mark>

#### <mark style="color:red;">**`Logs`**</mark>

* <mark style="color:purple;">Access logs:</mark>
  * <mark style="color:orange;">**`/var/log/apache2/access.log`**</mark>
  * <mark style="color:orange;">**`/var/log/httpd/access_log`**</mark>
* <mark style="color:purple;">Error logs:</mark>
  * <mark style="color:orange;">**`/var/log/apache2/error.log`**</mark>
  * <mark style="color:orange;">**`/var/log/httpd/error_log`**</mark>

***

### <mark style="color:red;">`Default URL Paths`</mark>&#x20;

<mark style="color:purple;">If</mark> <mark style="color:orange;">**`mod_status`**</mark> <mark style="color:purple;">is enabled:</mark>

* <mark style="color:orange;">**`/server-info`**</mark><mark style="color:purple;">: Server health and performance monitoring.</mark>
* <mark style="color:orange;">**`/server-status`**</mark><mark style="color:purple;">: Real-time status and diagnostic information about the server, including active requests, resource usage, and server performance.</mark>

#### <mark style="color:red;">**`Common Directories`**</mark><mark style="color:purple;">**:**</mark>

* <mark style="color:orange;">**`/cgi-bin/`**</mark><mark style="color:purple;">: Directory for executing</mark> <mark style="color:orange;">**`CGI`**</mark> <mark style="color:purple;">scripts.</mark>
* <mark style="color:orange;">**`/icons/`**</mark><mark style="color:purple;">: Often used for directory listings. It may expose unintended file paths.</mark>

#### <mark style="color:red;">**`Authentication`**</mark>

* <mark style="color:orange;">**`.htaccess`**</mark><mark style="color:purple;">: Configures directory-specific rules for authentication and other settings.</mark>
* <mark style="color:orange;">**`.htpasswd`**</mark><mark style="color:purple;">: Stores user credentials for basic authentication.</mark>

***

#### <mark style="color:red;">`PHP Integration`</mark>

* <mark style="color:orange;">**`phpinfo.php`**</mark><mark style="color:purple;">: Disclose sensitive server and PHP configuration details.</mark>
{% endhint %}

***

{% hint style="info" %}
### <mark style="color:orange;">`PHP`</mark> <mark style="color:purple;">Modules</mark>

* <mark style="color:purple;">To Allow</mark> <mark style="color:orange;">**`PHP`**</mark> <mark style="color:purple;">execution you need to add this line to</mark> <mark style="color:orange;">**`/etc/apache2/apache2.conf`**</mark><mark style="color:purple;">:</mark>

```apacheconf
LoadModule php_module /usr/lib/apache2/modules/libphp.so
    AddType application/x-httpd-php .php
```

* <mark style="color:purple;">You can actually add any extension that you want:</mark>

```apacheconf
AddType application/x-httpd-php .l33t
```
{% endhint %}
