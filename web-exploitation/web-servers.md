---
icon: server
---

# Web Servers

{% hint style="info" %}
<mark style="color:purple;">The web server is the software that manages the traffic, handling incoming</mark> <mark style="color:orange;">**`HTTP`**</mark> <mark style="color:purple;">requests and serving the appropriate responses to the application's user.</mark>

<mark style="color:purple;">Don't confuse with the web services or frameworks, which are handling application's logic.</mark>
{% endhint %}

***

## <mark style="color:purple;">Most Widely Used</mark> <mark style="color:orange;">`Web Servers`</mark>&#x20;

{% hint style="info" %}
### <mark style="color:orange;">`Apache`</mark>&#x20;

<mark style="color:purple;">Known for its flexibility and extensive module support, making it ideal for complex, dynamic websites.</mark>&#x20;

<mark style="color:purple;">It uses a process-based model, where each request is handled by a separate thread or process, which can be resource-heavy under high traffic but provides great compatibility.</mark>

***

### <mark style="color:red;">`Configuration Files`</mark>&#x20;

* &#x20;<mark style="color:purple;">Main configuration files:</mark>

{% code title="Standard" %}
```
/etc/apache2/apache2.conf
```
{% endcode %}

{% code title="RHEL" %}
```
/etc/httpd/httpd.conf
```
{% endcode %}

{% code title="FreeBSD" %}
```
/etc/apache24/httpd.conf
```
{% endcode %}

* <mark style="color:orange;">**`robots.txt`**</mark><mark style="color:purple;">: Directs web crawlers on which pages to crawl or avoid.</mark>

#### <mark style="color:red;">**`Virtual Host Configurations`**</mark>&#x20;

* <mark style="color:purple;">Default virtual host configuration:</mark> <mark style="color:orange;">**`/etc/apache2/sites-enabled/000-default.conf`**</mark>
* <mark style="color:purple;">Sites are configured in</mark> <mark style="color:orange;">**`/etc/apache2/sites-available/`**</mark> <mark style="color:purple;">and activated using symlinks in</mark> <mark style="color:orange;">**`/etc/apache2/sites-enabled/`**</mark><mark style="color:purple;">.</mark>

#### <mark style="color:red;">**`Modules Configuration`**</mark>

* <mark style="color:orange;">**`/etc/apache2/mods-available/`**</mark><mark style="color:purple;">: Contains configuration files for all available modules.</mark>
  * <mark style="color:orange;">**`.load`**</mark><mark style="color:purple;">: For loading the module.</mark>
  * <mark style="color:orange;">**`.conf`**</mark><mark style="color:purple;">: For additional configuration.</mark>
* <mark style="color:orange;">**`/etc/apache2/mods-enabled/`**</mark><mark style="color:purple;">: Contains symlinks to the enabled modules.</mark>

#### <mark style="color:red;">**`Logs`**</mark>

* <mark style="color:purple;">Access logs:</mark>
  * <mark style="color:orange;">**`/var/log/apache2/access.log`**</mark>
  * <mark style="color:orange;">**`/var/log/httpd/access_log`**</mark>
* <mark style="color:purple;">Error logs:</mark>
  * <mark style="color:orange;">**`/var/log/apache2/error.log`**</mark>
  * <mark style="color:orange;">**`/var/log/httpd/error_log`**</mark>

***

### <mark style="color:red;">`Default`</mark><mark style="color:red;">` `</mark><mark style="color:red;">`URL Paths`</mark>&#x20;

<mark style="color:purple;">If</mark> <mark style="color:orange;">**`mod_status`**</mark> <mark style="color:purple;">is enabled:</mark>

* <mark style="color:orange;">**`/server-info`**</mark><mark style="color:purple;">: Server health and performance monitoring.</mark>
* <mark style="color:orange;">**`/server-status`**</mark><mark style="color:purple;">: Real-time status and diagnostic information about the server, including active requests, resource usage, and server performance.</mark>

#### <mark style="color:red;">**`Common Directories`**</mark><mark style="color:purple;">**:**</mark>

* <mark style="color:orange;">**`/cgi-bin/`**</mark><mark style="color:purple;">: Directory for executing</mark> <mark style="color:orange;">**`CGI`**</mark> <mark style="color:purple;">scripts.</mark>
* <mark style="color:orange;">**`/icons/`**</mark><mark style="color:purple;">: Often used for directory listings. It may expose unintended file paths.</mark>

#### <mark style="color:red;">**`Authentication`**</mark>

* <mark style="color:orange;">**`.htaccess`**</mark><mark style="color:purple;">: Configures directory-specific rules for authentication and other settings.</mark>
* <mark style="color:orange;">**`.htpasswd`**</mark><mark style="color:purple;">: Stores user credentials for basic authentication.</mark>

***

#### <mark style="color:red;">`PHP Integration`</mark>

* <mark style="color:orange;">**`phpinfo.php`**</mark><mark style="color:purple;">: Disclose sensitive server and PHP configuration details.</mark>
{% endhint %}

***

{% hint style="info" %}
### <mark style="color:orange;">`Nginx`</mark>&#x20;

<mark style="color:purple;">Designed for high performance and low resource usage, often used as a reverse proxy or load balancer.</mark>

<mark style="color:purple;">It employs an event-driven architecture, handling many requests in a single thread, which allows it to efficiently serve static content and handle a large number of concurrent connections with minimal memory usage.</mark>

{% code title="Main configuration file" %}
```
/etc/nginx/nginx.conf
```
{% endcode %}

{% code title="Additional configuration file" %}
```
/etc/nginx/conf.d/
```
{% endcode %}

{% code title="Logs" lineNumbers="true" %}
```
/var/log/nginx/access.log
/var/log/nginx/error.log
```
{% endcode %}

* <mark style="color:purple;">Look for Virtual Hosts in the</mark> <mark style="color:orange;">**`/etc/nginx/sites-enabled`**</mark> <mark style="color:purple;">file:</mark>

```sh
grep -r "server {" /etc/nginx/
```
{% endhint %}

